## 新增需求
### 需求：定义大型项目口径与性能目标
系统必须定义“大型项目”的规模口径，并给出明确的性能目标。

#### 场景：打开大型项目
- **当** 项目满足“文件数 >= 10000 或目录深度 >= 8”
- **那么** 首次加载完成时间应不高于 5 秒

#### 场景：搜索过滤
- **当** 用户在大型项目中输入搜索关键词
- **那么** 过滤结果的响应时间应不高于 200 毫秒

### 需求：排查范围覆盖关键路径
系统必须在性能排查中覆盖关键链路并输出风险点清单。

#### 场景：加载链路排查
- **当** 进行性能排查
- **那么** 必须检查目录遍历与任务进度扫描等 I/O 热点

#### 场景：渲染链路排查
- **当** 进行性能排查
- **那么** 必须检查树渲染与搜索过滤的热点路径

#### 场景：监听链路排查
- **当** 进行性能排查
- **那么** 必须检查文件监听与重载策略的触发频率

### 需求：输出性能风险点与优化清单
系统必须输出性能风险点清单，并按优先级给出优化清单。

#### 场景：输出风险点清单
- **当** 完成静态排查
- **那么** 输出包含关键文件与热点路径的风险点清单

#### 场景：输出分层优化清单
- **当** 完成排查与优化设计
- **那么** 输出 P0/P1/P2 分层优化清单

### 需求：性能优化需求可验收
系统必须将性能优化拆解为可验证的需求，并给出验收方式。

#### 场景：优化需求验收
- **当** 完成优化设计
- **那么** 每项优化都应附带预期收益与验证方法

### 需求：性能指标日志
系统必须在开启性能日志时输出关键路径指标日志，便于离线分析。

#### 场景：日志开启
- **当** 环境变量 OPENSPEC_PERF_LOG=1
- **那么** 系统应输出 JSONL 性能日志
- **并且** 日志记录必须包含 event、ts、source 字段

#### 场景：日志关闭
- **当** 未设置 OPENSPEC_PERF_LOG 或值不为 1
- **那么** 系统不得输出性能日志

#### 场景：日志落盘
- **当** 写入性能日志
- **那么** 日志应落在用户数据目录下的 perf-logs/perf.jsonl
